"use strict";function preventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function loop(){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height),ctx2.clearRect(0,0,ctx2.canvas.width,ctx2.canvas.height);var e={x:Math.random()*ctx.canvas.width,y:Math.random()*ctx.canvas.height,s:2*Math.random()};particles.push(e),particles.length>=200&&particles.shift();for(var t=0;t<particles.length;t++){var o=particles[t];ctx.beginPath(),ctx2.beginPath(),ctx.fillStyle="white",ctx2.fillStyle="white",ctx.arc(o.x,o.y,o.s,0,FULLCIRCLE),ctx2.arc(o.x,o.y,o.s,0,FULLCIRCLE),ctx.fill(),ctx2.fill(),o.s*=.95}}var keys={37:1,38:1,39:1,40:1};$(window).load(function(){window.scrollTo(0,0),disableScroll();var e=$("#underNeath"),t=e.width(),o=e.height(),n=new THREE.PerspectiveCamera(85,t/o,1,4e3),i=new THREE.Scene;n.position.z=1e3,i.add(n);var a=new THREE.CanvasRenderer;a.setSize(t,o),e.append(a.domElement),document.getElementById("open_Curtain").addEventListener("click",function(){if(1!=window.magHetLuikOpen)return!1;var e=document.getElementById("left"),t=document.getElementById("right"),o=document.getElementsByClassName("first_section");enableScroll(),console.log("first section is "+o),"translateX(-100%)"==e.style.transform?(e.style.transform="translateX(0)",t.style.transform="translateX(0)",console.log("closed"),disableScroll()):(e.style.transform="translateX(-100%)",t.style.transform="translateX(100%)",console.log("open die space"),$("#toggleText").fadeOut("fast"))})}),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)});var particles=[],ctx=null,ctx2=null,FULLCIRCLE=2*Math.PI,x=window.innerWidth/2,y=window.innerHeight/2,color="white";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementsByClassName("curtain__panel"),t=e[0],o=e[1];ctx=t.getContext("2d"),ctx2=o.getContext("2d"),t.width=window.innerWidth/2,t.height=window.innerHeight,o.width=window.innerWidth/2,o.height=window.innerHeight,setInterval(loop,100)}),$(document).ready(function(){function e(){var e=$("#wishText").val();if(""!=e){var t='{"wens":"'+e+'"}';console.log(t);var o=new XMLHttpRequest;o.open("post","https://dashboardcreate.azurewebsites.net/api/dashboard/addWish",!0),o.send(t)}}function t(){setTimeout(function(){$("#displayWish").css({fontSize:p}),--p>-1&&t(),0==p&&setTimeout(function(){f(v,g,u)},1e3)},70)}var o=$(document.body),n=o.height(),i=o.get(0).scrollHeight;o.off("mousewheel").on("mousewheel",function(e){return!(this.scrollTop===i-n&&e.deltaY<0||0===this.scrollTop&&e.deltaY>0)}),window.magHetLuikOpen=!0,console.log(window.magHetLuikOpen);var a="https://api.nasa.gov/planetary/apod?api_key=Cx60f5lFRtpTvqMKW0BMbpxpmoMZdcojFf69str1",l=$("apod_vid_id");$.getJSON(a,function(e){console.log(e),$.ajax({url:a,success:function(e){"copyright"in e?$("#copyright").text("Image Credits: "+e.copyright):$("#copyright").text("Image Credits: Public Domain"),"video"==e.media_type?($("#apod_img_id").css("display","none"),$("#apod_vid_id").attr("src",e.url),l=$("apod_vid_id")):($("#apod_vid_id").css("display","none"),$("#apod_img_id").attr("src",e.url),l=$("apod_img_id")),console.log("############################"),console.log(e),$("#reqObject").text(a),$("#apod_explaination").text(e.explanation),$("#apod_title").text(e.title)}})});var s=$("#formulier"),r="Hello there",c="Welcome to Photo of the day inspired by Nasa",d="But first let's make a wish and throw it in space...",u=60,w=$("#text"),m=$("#displayWish"),h=0,f=function(e,t,o){t.fadeIn(),e.length>0?(t.append(e[0]),setTimeout(function(){f(e.slice(1),t,o)},o)):0==e.length&&h++};f(r,w,u),setTimeout(function(){w.fadeOut("slow").empty()},2e3),setTimeout(function(){console.log("eerste regel"),f(c,w,u)},4e3),setTimeout(function(){console.log("hier komt de 2de tekst"),w.fadeOut("slow").empty()},7e3),setTimeout(function(){console.log("text 3 moet nu verschijnen"),f(d,w,u)},1e4),setTimeout(function(){s.fadeIn("slow"),console.log("het formulier is zichtbaar")},14e3);var p=15,g=$("#toggleText"),v="Our mission is complete and your wish is safe in space. Toggle the red button to reveal Today's secret",x=($("#wishText").val(),0);$("#wishButton").click(function(){window.magHetLuikOpen=!0,x++,console.log("# of clicks: "+x),console.log($("#wishText").val()),e(),setTimeout(function(){w.fadeOut("slow").empty(),s.fadeOut("slow")},2e3),setTimeout(function(){console.log("4de regel"),f("Ready to go, let's go in space!",w,u)},4e3),setTimeout(function(){$(document).scrollTop($(document).height(),2e3)},8e3),m.text($("#wishText").val()),setTimeout(function(){t()},9e3)});var y=$(".holder__toggleSwitch__text"),T=$("#copyright"),_=$("#apod_explaination"),k=$("#apod_title"),E=1;$(".checkbox").click(function(){E++,console.log(E),E%2==0?(y.text("show data"),T.fadeOut("slow"),_.fadeOut("slow"),k.fadeOut("slow")):(y.text("hide data"),T.fadeIn("slow"),_.fadeIn("slow"),k.fadeIn("slow"))}),$("html").bind("keypress",function(e){if(13==e.keyCode)return!1})});